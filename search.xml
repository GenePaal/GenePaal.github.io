<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>RandomDuty(7)</title>
    <url>/2020/09/19/RandomDuty-7/</url>
    <content><![CDATA[<p>有一个兄弟转专业走了T^T, 现在宿舍里有七个人，改进一下代码，取消了文件缓存机制</p>
<a id="more"></a>

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 10</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXN 30</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBERONE <span class="meta-string">"曹曾超"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBERTWO <span class="meta-string">"贾金澎"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBERTHREE <span class="meta-string">"安凯晨"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBERFOUR <span class="meta-string">"李艾兴"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBERFIVE <span class="meta-string">"李政尧"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBERSIX <span class="meta-string">"郭艺萌"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBERSEVEN <span class="meta-string">"郝龙祥"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">member</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> name[MAXN];</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">&#125; Member;</span><br><span class="line"></span><br><span class="line">Member arr[MAX];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> brr[MAX] = &#123;<span class="number">0</span>&#125;, crr[MAX];</span><br><span class="line">    <span class="keyword">int</span> i, j, t, flag, len;</span><br><span class="line">    Member temp;</span><br><span class="line">    <span class="comment">// 拷贝名字</span></span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">0</span>].name, MEMBERONE);</span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">1</span>].name, MEMBERTWO);</span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">2</span>].name, MEMBERTHREE);</span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">3</span>].name, MEMBERFOUR);</span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">4</span>].name, MEMBERFIVE);</span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">5</span>].name, MEMBERSIX);</span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">6</span>].name, MEMBERSEVEN);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 核心代码  ↓↓↓↓↓↓↓↓↓↓↓↓</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 开始产生7个互相不重复的1 - 7内的数字</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 遍历brr数组，得到哪些数还没有生成</span></span><br><span class="line">        <span class="comment">// 把没有生成的数存在数组crr中</span></span><br><span class="line">        len = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(crr, <span class="number">0</span>, <span class="keyword">sizeof</span>(crr));</span><br><span class="line">        <span class="keyword">for</span> (t = <span class="number">0</span>; t &lt; <span class="number">7</span>; t++)</span><br><span class="line">            <span class="keyword">if</span> (brr[t] == <span class="number">0</span>)</span><br><span class="line">                crr[len++] = t + <span class="number">1</span>;</span><br><span class="line">        srand(time(<span class="literal">NULL</span>));</span><br><span class="line">        j = rand() % len;</span><br><span class="line">        arr[i].count = crr[j];</span><br><span class="line">        brr[crr[j] - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">6</span>; i &gt; <span class="number">0</span>; i--)</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">            <span class="keyword">if</span> (arr[j].count &gt; arr[j + <span class="number">1</span>].count)</span><br><span class="line">            &#123;</span><br><span class="line">                temp = arr[j];</span><br><span class="line">                arr[j] = arr[j + <span class="number">1</span>];</span><br><span class="line">                arr[j + <span class="number">1</span>] = temp;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 核心代码  ↑↑↑↑↑↑↑↑↑↑↑</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 提升用户体验</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">7</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">switch</span> (i)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"周一 "</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"周二 "</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"周三 "</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"周四 "</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"周五 "</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"周六 "</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"周日 "</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s\n"</span>, arr[i].name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>日常应用小程序</category>
      </categories>
      <tags>
        <tag>随机值日小程序(7人版，无缓存)</tag>
      </tags>
  </entry>
  <entry>
    <title>339随机值日小程序源码</title>
    <url>/2020/09/04/339%E9%9A%8F%E6%9C%BA%E5%80%BC%E6%97%A5%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%BA%90%E7%A0%81/</url>
    <content><![CDATA[<p>为宿舍内公平值日设计的一个小程序（手动滑稽），点击“阅读全文”查看源码以及使用说明    </p>
<a id="more"></a>

<h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><ol>
<li>直接将下面的代码复制到C语言编译器里运行即可</li>
<li>每个人摇到几号，则周几值日，摇到8号的不用值日</li>
</ol>
<h2 id="源码附上"><a href="#源码附上" class="headerlink" title="源码附上"></a>源码附上</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> max 20</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">member</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> name[<span class="built_in">max</span>];</span><br><span class="line">    <span class="keyword">int</span> number;</span><br><span class="line">&#125; Member;</span><br><span class="line"></span><br><span class="line">Member arr[<span class="built_in">max</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> s = <span class="number">0</span>, j, i, flag, t;</span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">0</span>].name, <span class="string">"曹曾超"</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">1</span>].name, <span class="string">"王梓臣"</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">2</span>].name, <span class="string">"贾金澎"</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">3</span>].name, <span class="string">"安凯晨"</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">4</span>].name, <span class="string">"李艾兴"</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">5</span>].name, <span class="string">"李政尧"</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">6</span>].name, <span class="string">"郭艺萌"</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(arr[<span class="number">7</span>].name, <span class="string">"郝龙祥"</span>);</span><br><span class="line">    srand(time(<span class="literal">NULL</span>));</span><br><span class="line">    <span class="keyword">while</span> (s != <span class="number">8</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        flag = <span class="number">1</span>;</span><br><span class="line">        j = rand() % <span class="number">8</span>;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; s; i++)</span><br><span class="line">            <span class="keyword">if</span> (arr[i].number == j)</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">        &#123;</span><br><span class="line">            arr[s].number = j;</span><br><span class="line">            s++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d   %s\n"</span>, arr[i].number + <span class="number">1</span>, arr[i].name);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>日常应用小程序</category>
      </categories>
      <tags>
        <tag>日常应用小程序</tag>
      </tags>
  </entry>
  <entry>
    <title>RandomDuty</title>
    <url>/2020/09/12/RandomDuty/</url>
    <content><![CDATA[<p>为宿舍内公平值日设计的一个小程序（升级版），点击“阅读全文”查看源码以及使用说明</p>
<a id="more"></a>

<h3 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h3><ol>
<li>编辑代码，根据本宿舍人名更改#define定义的8个成员名。</li>
<li>创建一个<code>.txt</code>文件，在文件中键入数字0 <code>(不要有任何其它字符，例如空格，回车)</code></li>
<li>将代码中 #define定义的FILELOCATION更改为你刚才创建的<code>.txt</code>文件的绝对路径</li>
<li>在C语言IED中运行代码。</li>
</ol>
<h3 id="代码附上"><a href="#代码附上" class="headerlink" title="代码附上"></a>代码附上</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 20</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FILELOCATION <span class="meta-string">"D:info.txt"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBERONE <span class="meta-string">"曹曾超"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBERTWO <span class="meta-string">"王梓臣"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBERTHREE <span class="meta-string">"贾金澎"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBERFOUR <span class="meta-string">"安凯晨"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBERFIVE <span class="meta-string">"李艾兴"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBERSIX <span class="meta-string">"李政尧"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBERSEVEN <span class="meta-string">"郭艺萌"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MEMBEREIGHT <span class="meta-string">"郝龙祥"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">member</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> name[MAX];</span><br><span class="line">    <span class="keyword">int</span> cache[MAX];</span><br><span class="line">&#125; Member;</span><br><span class="line"></span><br><span class="line">Member body[MAX];</span><br><span class="line"><span class="keyword">int</span> brr[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> Brr[MAX][MAX];</span><br><span class="line"><span class="keyword">int</span> crr[MAX];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    FILE *fp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> flag, arr[MAX] = &#123;<span class="number">0</span>&#125;, s = <span class="number">0</span>, j, i, temp = <span class="number">1</span>, calculate = <span class="number">1</span>, len = <span class="number">0</span>, x, p, q;</span><br><span class="line">    <span class="built_in">strcpy</span>(body[<span class="number">0</span>].name, MEMBERONE);</span><br><span class="line">    <span class="built_in">strcpy</span>(body[<span class="number">1</span>].name, MEMBERTWO);</span><br><span class="line">    <span class="built_in">strcpy</span>(body[<span class="number">2</span>].name, MEMBERTHREE);</span><br><span class="line">    <span class="built_in">strcpy</span>(body[<span class="number">3</span>].name, MEMBERFOUR);</span><br><span class="line">    <span class="built_in">strcpy</span>(body[<span class="number">4</span>].name, MEMBERFIVE);</span><br><span class="line">    <span class="built_in">strcpy</span>(body[<span class="number">5</span>].name, MEMBERSIX);</span><br><span class="line">    <span class="built_in">strcpy</span>(body[<span class="number">6</span>].name, MEMBERSEVEN);</span><br><span class="line">    <span class="built_in">strcpy</span>(body[<span class="number">7</span>].name, MEMBEREIGHT);</span><br><span class="line">    fp = fopen(FILELOCATION, <span class="string">"r"</span>);</span><br><span class="line">    <span class="built_in">fscanf</span>(fp, <span class="string">"%d"</span>, &amp;flag);</span><br><span class="line">    <span class="comment">// 新轮回的工作</span></span><br><span class="line">    <span class="comment">// 如果flag = 8 或 0，则需要重新开始下一个轮回。</span></span><br><span class="line">    <span class="keyword">if</span> (flag == <span class="number">8</span> || flag == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"旧数据已满一个周期，已清空\n"</span>);</span><br><span class="line">        fclose(fp);</span><br><span class="line">        fp = fopen(FILELOCATION, <span class="string">"w"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">fprintf</span>(fp, <span class="string">"%d\n"</span>, temp);</span><br><span class="line"></span><br><span class="line">        srand(time(<span class="literal">NULL</span>));</span><br><span class="line">        <span class="comment">// 随机，无重复地产生 1 - 8 , 8个数，存储到数组arr中, 并写入缓存的txt文件中</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"新数据为:\n"</span>);</span><br><span class="line">        <span class="keyword">while</span> (s != <span class="number">8</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            temp = <span class="number">1</span>;</span><br><span class="line">            j = rand() % <span class="number">8</span> + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; s; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (arr[i] == j)</span><br><span class="line">                &#123;</span><br><span class="line">                    temp = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (temp)</span><br><span class="line">            &#123;</span><br><span class="line">                arr[s++] = j;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%s %d\n"</span>, body[i].name, j);</span><br><span class="line">                <span class="built_in">fprintf</span>(fp, <span class="string">"%d\n"</span>, j);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"新数据缓存成功...\n"</span>);</span><br><span class="line">        fclose(fp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// flag是几，就说明当前每行有几个数</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        getc(fp);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"旧数据:\n"</span>);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s"</span>, body[i].name);</span><br><span class="line">            <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; flag; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">fscanf</span>(fp, <span class="string">"%d"</span>, &amp;body[i].cache[j]);</span><br><span class="line">                brr[i][body[i].cache[j] - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">                Brr[i][body[i].cache[j] - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">" %d"</span>, body[i].cache[j]);</span><br><span class="line">                getc(fp);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"正在计算新的值日顺序......\n"</span>);</span><br><span class="line">        i = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            len = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">memset</span>(crr, <span class="number">0</span>, <span class="keyword">sizeof</span>(crr));</span><br><span class="line">            <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">8</span>; j++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (brr[i][j] == <span class="number">0</span>)</span><br><span class="line">                    crr[len++] = j + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// crr数组里现在存的是解的范围,一共有len个数</span></span><br><span class="line">            srand(time(<span class="literal">NULL</span>));</span><br><span class="line">            <span class="comment">// len = 0说明怼出来的数无解，需要回溯</span></span><br><span class="line">            <span class="keyword">if</span>(len == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">for</span>(p = <span class="number">0</span>; p &lt; <span class="number">8</span>; p++)</span><br><span class="line">                    <span class="keyword">for</span>(q = <span class="number">0</span>; q &lt; <span class="number">8</span>; q++)</span><br><span class="line">                        brr[p][q] = Brr[p][q];</span><br><span class="line">                i = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (len != <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                j = rand() % len;</span><br><span class="line">                body[i].cache[flag] = crr[j];</span><br><span class="line">                <span class="keyword">for</span> (x = i + <span class="number">1</span>; x &lt; <span class="number">8</span>; x++)</span><br><span class="line">                    brr[x][crr[j] - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">                i++;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">8</span>)</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"计算完成!\n"</span>);</span><br><span class="line">        flag++;</span><br><span class="line">        <span class="comment">// 打印结构体数组，测试一下</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"新数据:\n"</span>);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s"</span>, body[i].name);</span><br><span class="line">            <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; flag; j++)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">" %d"</span>, body[i].cache[j]);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"正在将新数据写入缓存文件中...\n"</span>);</span><br><span class="line">        fclose(fp);</span><br><span class="line">        fp = fopen(FILELOCATION, <span class="string">"w"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">fprintf</span>(fp, <span class="string">"%d\n"</span>, flag);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; flag; j++)</span><br><span class="line">                <span class="built_in">fprintf</span>(fp, <span class="string">"%d "</span>, body[i].cache[j]);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"写入成功!\n"</span>);</span><br><span class="line">        fclose(fp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>日常应用小程序</category>
      </categories>
      <tags>
        <tag>随机值日小程序</tag>
      </tags>
  </entry>
  <entry>
    <title>学生信息管理系统</title>
    <url>/2020/07/01/%E9%93%BE%E8%A1%A8%E9%A1%B9%E7%9B%AE-%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<p>这是一个用C语言实现，以单向链表为核心，用于管理数据的小项目，功能尚不完备，后续持续更新。</p>
<a id="more"></a>

<h2 id="核心知识"><a href="#核心知识" class="headerlink" title="核心知识"></a>核心知识</h2><p>单向链表基本操作+对文件的基本操作</p>
<h2 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h2><ul>
<li>请先建好一个<code>.txt</code> 文件并记下路径名，文件可以为空，也可以预先存好数据</li>
<li>建议创建一个空文件，通过程序来向文件中存数据。</li>
<li>手动去文件中存数据需要严格按照格式。</li>
</ul>
<blockquote>
<h3 id="预先存好的数据需要按照以下格式："><a href="#预先存好的数据需要按照以下格式：" class="headerlink" title="预先存好的数据需要按照以下格式："></a><strong>预先存好的数据需要按照以下格式：</strong></h3><hr>
<p>姓名1    语文    数学    英语    计算机    C语言    平均分    总分1<br>…<br>姓名n    语文    数学    英语    计算机    C语言    平均分    总分n</p>
<hr>
<h3 id="按照上述格式存数据的同时，需要注意以下两点："><a href="#按照上述格式存数据的同时，需要注意以下两点：" class="headerlink" title="按照上述格式存数据的同时，需要注意以下两点："></a>按照上述格式存数据的同时，需要注意以下两点：</h3><ol>
<li>某些编译器不支持中文字符的读写操作(VS2012支持)，因此，<code>姓名</code>可能不支持中文。<br> <strong>不论是预先在文件里存数据，还是通过程序向文件中存数据，都应该注意这一点。</strong></li>
<li>文件结尾，也就是文件内容的最后一行的<code>总分n</code>后面<code>不要有任何字符</code>。</li>
</ol>
</blockquote>
<h2 id="代码附上"><a href="#代码附上" class="headerlink" title="代码附上"></a>代码附上</h2><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXNAME 30</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSUBJECT 5</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SPACE <span class="meta-string">' '</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> name[MAXNAME];</span><br><span class="line">    <span class="keyword">int</span> score[MAXSUBJECT];</span><br><span class="line">    <span class="keyword">double</span> aver;</span><br><span class="line">    <span class="keyword">int</span> sum;</span><br><span class="line"></span><br><span class="line">&#125; STUDENT;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    STUDENT data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line"></span><br><span class="line">&#125; NODE, *LIST;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i, choice;</span><br><span class="line"><span class="keyword">char</span> ch, c, c2;</span><br><span class="line"><span class="keyword">char</span> s1[<span class="number">10</span>] = <span class="string">"name"</span>;</span><br><span class="line"><span class="keyword">char</span> s2[<span class="number">10</span>] = <span class="string">"average"</span>;</span><br><span class="line"><span class="keyword">char</span> s3[<span class="number">10</span>] = <span class="string">"sum"</span>;</span><br><span class="line"><span class="keyword">char</span> s4[<span class="number">10</span>] = <span class="string">"chinese"</span>;</span><br><span class="line"><span class="keyword">char</span> s5[<span class="number">10</span>] = <span class="string">"math"</span>;</span><br><span class="line"><span class="keyword">char</span> s6[<span class="number">10</span>] = <span class="string">"english"</span>;</span><br><span class="line"><span class="keyword">char</span> s7[<span class="number">10</span>] = <span class="string">"computer"</span>;</span><br><span class="line"><span class="keyword">char</span> s8[<span class="number">10</span>] = <span class="string">"c"</span>;</span><br><span class="line"><span class="keyword">char</span> FileName[<span class="number">100</span>];</span><br><span class="line">LIST headp = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读入文件时，添加链表成员</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AddFscanf</span><span class="params">(NODE)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用说明</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Instructions</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 进行完一次操作后，询问是否继续</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Ask</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印分割线</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SplitLine</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作1，用户输入时，添加链表成员，</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AddUserInput</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作2，删除节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delete</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作3，查询某个节点信息</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Inquire</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作4，更新某个节点信息</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作5，排序学生信息</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sort</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作6，保存信息到文件中</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Save</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作7，打印链表</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Print</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 释放链表</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Free</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    FILE *fp = <span class="literal">NULL</span>;</span><br><span class="line">    NODE head;</span><br><span class="line">    NODE temp;</span><br><span class="line">    headp = &amp;head;</span><br><span class="line">    head.next = <span class="literal">NULL</span>;</span><br><span class="line">    temp.next = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"请输入文件的绝对路径+文件名(仅限 .txt 文件)\n\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"例如，若您要打开D盘根目录下的 info.txt 文件\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"则应输入\"D:/info.txt\"(您输入的字符均应为英文字符)\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%s"</span>, FileName);</span><br><span class="line">    getchar();</span><br><span class="line">    <span class="keyword">if</span> ((fp = fopen(FileName, <span class="string">"r"</span>)) == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n\"%s\" 打开失败\n\n"</span>, FileName);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n\"%s\" 打开成功!\n"</span>, FileName);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n正在鉴定文件是否为空...\n"</span>);</span><br><span class="line">    c2 = getc(fp);</span><br><span class="line">    fclose(fp);</span><br><span class="line">    <span class="keyword">if</span> (c2 == EOF)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"打开的文件为空文件，仅可进行写入操作！\n"</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"文件非空，可进行任意操作\n\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"正在重新打开该文件...\n"</span>);</span><br><span class="line">        <span class="keyword">if</span> ((fp = fopen(FileName, <span class="string">"r"</span>)) == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"can't open \"%s\" \n"</span>, FileName);</span><br><span class="line">            <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"正在读取该文件中的数据...\n"</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, temp.data.name);</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXSUBJECT; i++)</span><br><span class="line">                <span class="built_in">fscanf</span>(fp, <span class="string">"%d"</span>, &amp;temp.data.score[i]);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%lf"</span>, &amp;temp.data.aver);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%d"</span>, &amp;temp.data.sum);</span><br><span class="line">            ch = getc(fp);</span><br><span class="line">            AddFscanf(temp);</span><br><span class="line">            <span class="keyword">if</span> (ch == EOF)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"文件数据读取成功!\n"</span>);</span><br><span class="line">        fclose(fp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Instructions();</span><br><span class="line">        <span class="keyword">switch</span> (choice)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            AddUserInput();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            Delete();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            Inquire();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            Update();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            Sort();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            Save();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">            Print();</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Bye~  Have a good day! \n\n"</span>);</span><br><span class="line">            <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Ask();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Free();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Free</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LIST temp = headp-&gt;next;</span><br><span class="line">    LIST deletep = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">while</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        deletep = temp;</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">        <span class="built_in">free</span>(deletep);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Save</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    FILE *fp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">    LIST temp = headp-&gt;next;</span><br><span class="line">    <span class="keyword">if</span> ((fp = fopen(FileName, <span class="string">"w"</span>)) == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"can't open \" %s \" \n"</span>, FileName);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"\n"</span>);</span><br><span class="line">        <span class="built_in">fprintf</span>(fp, <span class="string">"%s   "</span>, temp-&gt;data.name);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXSUBJECT; i++)</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%d   "</span>, temp-&gt;data.score[<span class="number">0</span>]);</span><br><span class="line">        <span class="built_in">fprintf</span>(fp, <span class="string">"%.2f   "</span>, temp-&gt;data.aver);</span><br><span class="line">        <span class="built_in">fprintf</span>(fp, <span class="string">"%d"</span>, temp-&gt;data.sum);</span><br><span class="line">        flag = <span class="number">1</span>;</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n保存成功!"</span>);</span><br><span class="line">    fclose(fp);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sort</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LIST temp = <span class="literal">NULL</span>;</span><br><span class="line">    STUDENT t;</span><br><span class="line">    <span class="keyword">int</span> lenth = <span class="number">0</span>, j;</span><br><span class="line">    <span class="keyword">if</span> (headp-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"数据为空!仅可进行写入操作!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    temp = headp-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        lenth++;</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (i = lenth - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = headp-&gt;next;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (temp-&gt;data.sum &lt; temp-&gt;next-&gt;data.sum)</span><br><span class="line">            &#123;</span><br><span class="line">                t = temp-&gt;data;</span><br><span class="line">                temp-&gt;data = temp-&gt;next-&gt;data;</span><br><span class="line">                temp-&gt;next-&gt;data = t;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (temp-&gt;data.sum == temp-&gt;next-&gt;data.sum)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">strcmp</span>(temp-&gt;data.name, temp-&gt;next-&gt;data.name) &gt; <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    t = temp-&gt;data;</span><br><span class="line">                    temp-&gt;data = temp-&gt;next-&gt;data;</span><br><span class="line">                    temp-&gt;next-&gt;data = t;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n排序成功!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LIST temp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> flag;</span><br><span class="line">    <span class="keyword">char</span> NAME[MAXNAME];</span><br><span class="line">    <span class="keyword">if</span> (headp-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"数据为空!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    temp = headp;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"请输入要更新的学生姓名:\n"</span>);</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = headp;</span><br><span class="line">        fflush(<span class="built_in">stdin</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, NAME);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">while</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(temp-&gt;data.name, NAME) == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (temp == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"错误！库中没有该学生的信息\n"</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"键入'n'退出该功能，或键入'y'重新输入\n"</span>);</span><br><span class="line">            <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;c);</span><br><span class="line">                getchar();</span><br><span class="line">                <span class="keyword">if</span> (c == <span class="string">'y'</span> || c == <span class="string">'Y'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"请重新输入要更新学生的姓名\n"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'n'</span> || c == <span class="string">'N'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"输入非法!请输入'y'或'n',不要输入其它字符\n"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            temp-&gt;data.sum = <span class="number">0</span>;</span><br><span class="line">            temp-&gt;data.aver = <span class="number">0.0</span>;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"请依次输入该学生语文、数学、英语、计算机、C语言，五门课的成绩\n"</span>);</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXSUBJECT; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;temp-&gt;data.score[i]);</span><br><span class="line">                temp-&gt;data.sum += temp-&gt;data.score[i];</span><br><span class="line">            &#125;</span><br><span class="line">            temp-&gt;data.aver = temp-&gt;data.sum * <span class="number">1.0</span> / MAXSUBJECT;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n更新成功!"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Inquire</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LIST temp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> flag;</span><br><span class="line">    <span class="keyword">char</span> NAME[MAXNAME];</span><br><span class="line">    <span class="keyword">if</span> (headp-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"数据为空!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    temp = headp;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"请输入要查询的学生姓名:\n"</span>);</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = headp;</span><br><span class="line">        fflush(<span class="built_in">stdin</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, NAME);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">while</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(temp-&gt;data.name, NAME) == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (temp == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"错误！库中没有该学生的信息\n"</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"键入'y'重新输入或'n'退出该功能\n"</span>);</span><br><span class="line">            <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="number">0</span>;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;c);</span><br><span class="line">                getchar();</span><br><span class="line">                <span class="keyword">if</span> (c == <span class="string">'y'</span> || c == <span class="string">'Y'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"请重新输入要查询学生的姓名\n"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'n'</span> || c == <span class="string">'N'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"输入非法!请输入'y'或'n',不要输入其它字符\n"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n\n%s的信息如下:\n\n"</span>, NAME);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%-10s %-8s %-10s %-10s %-10s %-10s %6s\n"</span>,</span><br><span class="line">                   s2, s3, s4, s5, s6, s7, s8);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%-10.2f %-10d"</span>,</span><br><span class="line">                   temp-&gt;data.aver, temp-&gt;data.sum);</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXSUBJECT; i++)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%-12d"</span>, temp-&gt;data.score[i]);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delete</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LIST temp = <span class="literal">NULL</span>, deletp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> flag;</span><br><span class="line">    <span class="keyword">char</span> NAME[MAXNAME];</span><br><span class="line">    <span class="keyword">if</span> (headp-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"数据为空!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    temp = headp;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"请输入要删除的学生的姓名:\n"</span>);</span><br><span class="line">    <span class="comment">// 现在这个情况，链表一定不为空</span></span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = headp;</span><br><span class="line">        fflush(<span class="built_in">stdin</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, NAME);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="comment">// 搜索要删除的学生姓名所在结点的上一个</span></span><br><span class="line">        <span class="keyword">while</span> (temp-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(temp-&gt;next-&gt;data.name, NAME) == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (temp-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            flag = <span class="number">0</span>;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"您要删除的学生不存在,键入'y'重新输入或'n'退出该功能\n"</span>);</span><br><span class="line">            <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                c = getchar();</span><br><span class="line">                getchar();</span><br><span class="line">                <span class="keyword">if</span> (c == <span class="string">'y'</span> || c == <span class="string">'Y'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"请重新输入学生姓名:\n"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'n'</span> || c == <span class="string">'N'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    flag = <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"输入非法!请重新输入'y' or 'n'\n"</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 要删除的结点是最后一个结点</span></span><br><span class="line">            <span class="keyword">if</span> (temp-&gt;next-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">free</span>(temp-&gt;next);</span><br><span class="line">                temp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                deletp = temp-&gt;next;</span><br><span class="line">                temp-&gt;next = temp-&gt;next-&gt;next;</span><br><span class="line">                <span class="built_in">free</span>(deletp);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n删除成功!"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Ask</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fflush(<span class="built_in">stdin</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n\n输入'n'结束该信息管理系统，或输入其它任意字符回到菜单\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;c);</span><br><span class="line">    getchar();</span><br><span class="line">    <span class="keyword">if</span> (c == <span class="string">'n'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\nBye~  Have a good day! \n\n"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AddUserInput</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>, flag2 = <span class="number">0</span>;</span><br><span class="line">    LIST newp = <span class="literal">NULL</span>;</span><br><span class="line">    LIST temp = headp-&gt;next;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"请输入学生姓名:\n"</span>);</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        newp = (LIST)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(NODE));</span><br><span class="line">        flag = <span class="number">0</span>;</span><br><span class="line">        temp = headp-&gt;next;</span><br><span class="line">        fflush(<span class="built_in">stdin</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, newp-&gt;data.name);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">while</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(newp-&gt;data.name, temp-&gt;data.name) == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n库中已有该名字，请退回到菜单选择\"更新信息\"或选择重新输入名字\n"</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"是否重新输入?(y/n)\n"</span>);</span><br><span class="line">            <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                flag2 = <span class="number">0</span>;</span><br><span class="line">                c = getchar();</span><br><span class="line">                getchar();</span><br><span class="line">                <span class="keyword">if</span> (c == <span class="string">'y'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"\n您选择了'y',请重新输入名字\n"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'n'</span>)</span><br><span class="line">                &#123;</span><br><span class="line"></span><br><span class="line">                    flag2 = <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"\n请输入'y'或'n'，不要输入其它字符!\n"</span>);</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"请重新输入'y'或'n' \n"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag2)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            temp = headp;</span><br><span class="line">            <span class="keyword">while</span> (temp-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">                temp = temp-&gt;next;</span><br><span class="line">            temp-&gt;next = newp;</span><br><span class="line">            newp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">            newp-&gt;data.sum = <span class="number">0</span>;</span><br><span class="line">            newp-&gt;data.aver = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"请依次输入该学生语文、数学、英语、计算机、C语言，五门课的成绩\n"</span>);</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXSUBJECT; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;newp-&gt;data.score[i]);</span><br><span class="line">                newp-&gt;data.sum += newp-&gt;data.score[i];</span><br><span class="line">            &#125;</span><br><span class="line">            newp-&gt;data.aver = newp-&gt;data.sum * <span class="number">1.0</span> / MAXSUBJECT;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n添加成功!\n"</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"是否继续添加?(输入'n'结束该功能，输入其它任意字符继续添加)\n"</span>);</span><br><span class="line">            fflush(<span class="built_in">stdin</span>);</span><br><span class="line">            c = getchar();</span><br><span class="line">            getchar();</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="string">'n'</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"\n请继续输入要添加的学生的姓名\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AddFscanf</span><span class="params">(NODE newNode)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LIST newp = (LIST)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(NODE));</span><br><span class="line">    LIST temp = headp;</span><br><span class="line">    <span class="keyword">while</span> (temp-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">    temp-&gt;next = newp;</span><br><span class="line">    newp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    newp-&gt;data.sum = <span class="number">0</span>;</span><br><span class="line">    newp-&gt;data.aver = <span class="number">0.0</span>;</span><br><span class="line">    <span class="built_in">strcpy</span>(newp-&gt;data.name, newNode.data.name);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXSUBJECT; i++)</span><br><span class="line">        newp-&gt;data.score[i] = newNode.data.score[i];</span><br><span class="line">    newp-&gt;data.sum = newNode.data.sum;</span><br><span class="line">    newp-&gt;data.aver = newNode.data.aver;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LIST temp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (headp-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"数据为空!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    temp = headp;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"已存储的数据为:\n"</span>);</span><br><span class="line">    SplitLine();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%-15s %-10s %-8s %-10s %-10s %-10s %-10s %6s\n"</span>,</span><br><span class="line">           s1, s2, s3, s4, s5, s6, s7, s8);</span><br><span class="line">    <span class="keyword">while</span> (temp-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%-15s %-10.2f %-10d"</span>,</span><br><span class="line">               temp-&gt;next-&gt;data.name, temp-&gt;next-&gt;data.aver,</span><br><span class="line">               temp-&gt;next-&gt;data.sum);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXSUBJECT; i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%-12d"</span>, temp-&gt;next-&gt;data.score[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    SplitLine();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SplitLine</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n========================================================================================\n\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Instructions</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n\n\t   The Student's Grade Management System\n\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"---------------------Student  Menu------------------------\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (headp-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"* 1 输入学生信息\t\t\t * 0 退出学生系统\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"----------------------------------------------------------\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"此时数据为空!仅支持输入学生信息！\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Enter your choice 0 or 1: "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"* 1 输入学生信息\t\t\t * 2 删除学生信息\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"* 3 查询学生信息\t\t\t * 4 更新学生信息\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"* 5 排序学生信息\t\t\t * 6 保存学生信息\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"* 7 显示学生信息\t\t\t * 0 退出学生系统\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"----------------------------------------------------------\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Enter your choice [0 - 9]: "</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;choice);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>项目</category>
      </categories>
      <tags>
        <tag>链表小项目</tag>
      </tags>
  </entry>
  <entry>
    <title>reverse the linkList</title>
    <url>/2020/09/23/reverse-the-linkList/</url>
    <content><![CDATA[<p>链表的头插和逆置操作，很有技巧性，很值得思考</p>
<a id="more"></a>


<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">MyStruct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="keyword">int</span> data;</span><br><span class="line">	<span class="class"><span class="keyword">struct</span> <span class="title">MyStruct</span>* <span class="title">next</span>;</span></span><br><span class="line">&#125;Node, *pList;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Reverse</span><span class="params">(pList *)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Print</span><span class="params">(pList)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ReverseOrder</span><span class="params">(pList*)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	</span><br><span class="line">	pList pHead = <span class="literal">NULL</span>;</span><br><span class="line">	Reverse(&amp;pHead);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"对空链表头插5个结点:\n"</span>);</span><br><span class="line">	Print(pHead);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"头插完之后，将链表元素转置:\n"</span>);</span><br><span class="line">	ReverseOrder(&amp;pHead);</span><br><span class="line">	Print(pHead);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Reverse</span><span class="params">(pList * ppHead)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	pList pNewNode;</span><br><span class="line">	<span class="keyword">for</span>(i = <span class="number">1</span>; i &lt; <span class="number">6</span>; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		pNewNode = (pList) <span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(Node));</span><br><span class="line">		pNewNode-&gt;data = i;</span><br><span class="line">		pNewNode -&gt;next = *ppHead;</span><br><span class="line">		*ppHead = pNewNode;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Print</span><span class="params">(pList phead)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pList temp = phead;</span><br><span class="line">	<span class="keyword">while</span>(temp != <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, temp-&gt;data);</span><br><span class="line">		temp = temp -&gt; next;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ReverseOrder</span><span class="params">(pList* pphead)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	pList p = *pphead, q = (*pphead) -&gt;next;</span><br><span class="line">	*pphead = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="keyword">while</span>(q != <span class="literal">NULL</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		p -&gt; next = *pphead;</span><br><span class="line">		*pphead = p;</span><br><span class="line">		p = q;</span><br><span class="line">		q = q-&gt;next;</span><br><span class="line">	&#125;</span><br><span class="line">	p-&gt;next = *pphead;</span><br><span class="line">	*pphead = p;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>链表操作</category>
      </categories>
      <tags>
        <tag>链表头插和逆置</tag>
      </tags>
  </entry>
  <entry>
    <title>problem</title>
    <url>/2020/09/29/problem/</url>
    <content><![CDATA[<p>这个问题困扰我太久了，我还是去研究新算法得了，因为产生的是随机数，我都不知道我的思路还会有多少缺陷，还可能算到无解的情况。</p>
<a id="more"></a>

<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX 8</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAX_NAME 30</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> FILE_LOCATION <span class="meta-string">"D:/info.txt"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUMBER1 <span class="meta-string">"a"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUMBER2 <span class="meta-string">"b"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUMBER3 <span class="meta-string">"c"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUMBER4 <span class="meta-string">"d"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUMBER5 <span class="meta-string">"e"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUMBER6 <span class="meta-string">"f"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUMBER7 <span class="meta-string">"g"</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> NUMBER8 <span class="meta-string">"h"</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">number</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> name[MAX_NAME];</span><br><span class="line"></span><br><span class="line">&#125; Number;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i, j, lastRounds;</span><br><span class="line"><span class="keyword">int</span> arr[MAX], brr[MAX], crr[MAX], boolx1[MAX];</span><br><span class="line"><span class="keyword">int</span> data[MAX][MAX], boolx2[MAX][MAX], BOOLx2[MAX][MAX];</span><br><span class="line">FILE *fp = <span class="literal">NULL</span>;</span><br><span class="line">Number number[MAX];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 随机生成8个两两不相同的[1,8]范围内的整数</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RandomCount</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MyStrcpy</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ReadAndPrintData</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Calculate</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintAndWriteData</span><span class="params">()</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Calculate_6</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"></span><br><span class="line">    MyStrcpy();</span><br><span class="line">    fp = fopen(FILE_LOCATION, <span class="string">"r"</span>);</span><br><span class="line">    <span class="built_in">fscanf</span>(fp, <span class="string">"%d"</span>, &amp;lastRounds);</span><br><span class="line">    <span class="keyword">if</span> (lastRounds == <span class="number">0</span> || lastRounds == <span class="number">8</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        fclose(fp);</span><br><span class="line">        fp = fopen(FILE_LOCATION, <span class="string">"w"</span>);</span><br><span class="line">        RandomCount();</span><br><span class="line">        <span class="built_in">fprintf</span>(fp, <span class="string">"%d\n"</span>, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">if</span> (lastRounds == <span class="number">8</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"旧数据已满，已清空...\n"</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"数据为空，需要创建新数据...\n"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"新数据为:\n"</span>);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%s   %d\n"</span>, number[i].name, arr[i]);</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%d\n"</span>, arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (lastRounds == <span class="number">6</span>)</span><br><span class="line">        Calculate_6();</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 文件依然处于开启状态，读取完数据以后方可关闭</span></span><br><span class="line">        getc(fp);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 将旧数据读取到data数组中，并打印</span></span><br><span class="line">        ReadAndPrintData(lastRounds);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// √</span></span><br><span class="line">        <span class="comment">// 可以关闭文件了</span></span><br><span class="line">        fclose(fp);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 开始罪恶的计算</span></span><br><span class="line">        Calculate();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 打印新数据，并保存到缓存文件中</span></span><br><span class="line">        PrintAndWriteData();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">RandomCount</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> number;</span><br><span class="line">    <span class="keyword">int</span> lenC;</span><br><span class="line">    <span class="comment">// arr存放这八个数字</span></span><br><span class="line">    <span class="comment">// brr为布尔类型数组</span></span><br><span class="line">    <span class="comment">// crr为可用的数字</span></span><br><span class="line">    <span class="comment">// arr 和 brr 是需要每次循环都进行缓存的， crr每次循环都要大变样</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 初始化lenC</span></span><br><span class="line">        lenC = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            srand(time(<span class="literal">NULL</span>));</span><br><span class="line">            arr[i] = rand() % <span class="number">8</span> + <span class="number">1</span>;</span><br><span class="line">            brr[arr[i] - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 遍历布尔数组，从而确定没有使用的数字，存到crr数组里</span></span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">8</span>; j++)</span><br><span class="line">            <span class="keyword">if</span> (brr[j] == <span class="number">0</span>)</span><br><span class="line">                crr[lenC++] = j;</span><br><span class="line">        <span class="comment">// crr数组的长度为lenC，即crr里有lenC个数</span></span><br><span class="line">        srand(time(<span class="literal">NULL</span>));</span><br><span class="line">        number = crr[rand() % lenC];</span><br><span class="line">        arr[i] = number + <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// 把number存进arr数组以后，记得在布尔数组里把对应的位置的数置为1</span></span><br><span class="line">        brr[number] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">MyStrcpy</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">strcpy</span>(number[<span class="number">0</span>].name, NUMBER1);</span><br><span class="line">    <span class="built_in">strcpy</span>(number[<span class="number">1</span>].name, NUMBER2);</span><br><span class="line">    <span class="built_in">strcpy</span>(number[<span class="number">2</span>].name, NUMBER3);</span><br><span class="line">    <span class="built_in">strcpy</span>(number[<span class="number">3</span>].name, NUMBER4);</span><br><span class="line">    <span class="built_in">strcpy</span>(number[<span class="number">4</span>].name, NUMBER5);</span><br><span class="line">    <span class="built_in">strcpy</span>(number[<span class="number">5</span>].name, NUMBER6);</span><br><span class="line">    <span class="built_in">strcpy</span>(number[<span class="number">6</span>].name, NUMBER7);</span><br><span class="line">    <span class="built_in">strcpy</span>(number[<span class="number">7</span>].name, NUMBER8);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">ReadAndPrintData</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"旧数据为:\n"</span>);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s  "</span>, number[i].name);</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; lastRounds; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%d "</span>, &amp;data[i][j]);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d "</span>, data[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 吸收文件内的换行，或者最后一行的EOF</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Calculate</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> lenC, counts, number, huisu = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// boolx2 二维布尔数组，哪个元素为一，那么该元素的下标加 1 这个数，已经产生过了</span></span><br><span class="line">    <span class="comment">// 本次计算需要的数据有，data二维数组里的内容</span></span><br><span class="line">    <span class="comment">// bool二维数组用来计每次横向已经占有的数据</span></span><br><span class="line">    <span class="comment">// 一维布尔数组用来计纵向产生的数据</span></span><br><span class="line">    <span class="comment">// 遍历二维布尔数组的对应行，和一维布尔数组，若都为0，则该数是解，将其放到crr数组里</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; lastRounds; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            boolx2[i][data[i][j] - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// BOOLx2备份数据，用于回溯</span></span><br><span class="line">            BOOLx2[i][data[i][j] - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">for</span> (counts = <span class="number">0</span>; counts &lt; <span class="number">8</span>; counts++)</span><br><span class="line">    &#123;</span><br><span class="line">        lenC = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">memset</span>(crr, <span class="number">0</span>, <span class="keyword">sizeof</span>(crr));</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; <span class="number">8</span>; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!boolx2[counts][j])</span><br><span class="line">            &#123;</span><br><span class="line">                crr[lenC++] = j + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// crr数组里存的是第 counts 行，横纵都未出现过的数</span></span><br><span class="line">        srand(time(<span class="literal">NULL</span>));</span><br><span class="line">        <span class="keyword">if</span> (lenC)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// lenC != 0 ，往下算就好</span></span><br><span class="line">            number = rand() % lenC;</span><br><span class="line">            data[counts][lastRounds] = crr[number];</span><br><span class="line">            <span class="comment">// 存完crr[number]以后，还需要把二维布尔数组中当前行以下的每一列中</span></span><br><span class="line">            <span class="comment">// 下标为 crr[number] - 1的元素置为 1</span></span><br><span class="line">            <span class="keyword">for</span> (i = counts + <span class="number">1</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">                boolx2[i][crr[number] - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"回溯次数 %d次\n"</span>, huisu++);</span><br><span class="line">            <span class="comment">// lenC == 0 , 运气不好，怼到无解的情况了， 需要回溯呀，从头开始算吧， 哎！</span></span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">                <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; lastRounds; j++)</span><br><span class="line">                    boolx2[i][j] = BOOLx2[i][j];</span><br><span class="line">            counts = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    lastRounds++;</span><br><span class="line">    <span class="comment">// 可能会出现无解的情况，因此，记得回溯！！</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PrintAndWriteData</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fp = fopen(FILE_LOCATION, <span class="string">"w"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"新数据为:\n"</span>);</span><br><span class="line">    <span class="built_in">fprintf</span>(fp, <span class="string">"%d\n"</span>, lastRounds);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%s  "</span>, number[i].name);</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; lastRounds; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%d "</span>, data[i][j]);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%d "</span>, data[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">fprintf</span>(fp, <span class="string">"\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Calculate_6</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> crr[MAX * <span class="number">2</span>];</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>, temp, t;</span><br><span class="line">    <span class="comment">// 把数据录到布尔数组里，然后确定解</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; lastRounds; j++)</span><br><span class="line">            boolx2[i][data[i][j] - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">8</span>; i++)</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; lastRounds; j++)</span><br><span class="line">            <span class="keyword">if</span> (boolx2[i][data[i][j] - <span class="number">1</span>] == <span class="number">0</span>)</span><br><span class="line">                crr[len++] = data[i][j];</span><br><span class="line">    <span class="comment">// crr数组长度最后一定是16， 下标从 0 - 15</span></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; len; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        srand(time(<span class="literal">NULL</span>));</span><br><span class="line">        <span class="comment">// 第一次，先从第一个和第二个元素中选择一个</span></span><br><span class="line">        <span class="keyword">if</span> (i == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            j = rand() % <span class="number">2</span>;</span><br><span class="line">            data[<span class="number">0</span>][lastRounds] = crr[j];</span><br><span class="line">            temp = crr[j];</span><br><span class="line">            crr[j] = <span class="number">0</span>;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(t = <span class="number">0</span>; t &lt; len; t++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (temp == crr[t])</span><br><span class="line">            &#123;</span><br><span class="line">                crr[t] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">if</span> (t % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    temp = crr[t + <span class="number">1</span>];</span><br><span class="line">                    data[t / <span class="number">2</span> + <span class="number">1</span>][lastRounds] =  crr[t + <span class="number">1</span>];</span><br><span class="line">                    crr[t + <span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    temp = crr[t - <span class="number">1</span>];</span><br><span class="line">                    data[t / <span class="number">2</span> + <span class="number">1</span>][lastRounds] =  crr[t - <span class="number">1</span>];</span><br><span class="line">                    crr[t - <span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">6</span><br><span class="line">4 5 6 7 2 3 </span><br><span class="line">2 7 3 6 4 8 </span><br><span class="line">6 4 2 5 3 7 </span><br><span class="line">5 6 8 3 1 4 </span><br><span class="line">8 2 7 1 6 5 </span><br><span class="line">1 3 5 8 2 6 </span><br><span class="line">7 1 4 2 8 3 </span><br><span class="line">3 8 1 4 5 2</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>矩阵运算问题</category>
      </categories>
      <tags>
        <tag>问题问题问题</tag>
      </tags>
  </entry>
</search>
