<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>链表项目-学生信息管理系统</title>
    <url>/2020/07/01/%E9%93%BE%E8%A1%A8%E9%A1%B9%E7%9B%AE-%E5%AD%A6%E7%94%9F%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<h3 id="核心知识"><a href="#核心知识" class="headerlink" title="核心知识"></a>核心知识</h3><p>单向链表基本操作+对文件的基本操作</p>
<a id="more"></a>

<h3 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h3><ul>
<li>请先建好一个<code>.txt</code> 文件并记下路径名，文件可以为空，也可以预先存好数据</li>
<li>建议创建一个空文件，通过程序来向文件中存数据。</li>
<li>手动去文件中存数据需要严格按照格式。</li>
</ul>
<blockquote>
<p>预先存好的数据需要按照以下格式：</p>
<p>在某些编译器上姓名可能不支持中文</p>
<hr>
<p>姓名1    语文    数学    英语    计算机    C语言    平均分    总分1</p>
<p>…</p>
<p>姓名n    语文    数学    英语    计算机    C语言    平均分    总分n</p>
<hr>
<p><strong>文件结尾，也就是最后一行的<code>总分n</code>后面<code>不要有任何字符</code></strong>。</p>
</blockquote>
<h3 id="代码附上"><a href="#代码附上" class="headerlink" title="代码附上"></a>代码附上</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;malloc.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXNAME 30</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAXSUBJECT 5</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> SPACE <span class="meta-string">' '</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> i, choice;</span><br><span class="line"><span class="keyword">char</span> ch, c;</span><br><span class="line"><span class="keyword">char</span> s1[<span class="number">10</span>] = <span class="string">"name"</span>;</span><br><span class="line"><span class="keyword">char</span> s2[<span class="number">10</span>] = <span class="string">"average"</span>;</span><br><span class="line"><span class="keyword">char</span> s3[<span class="number">10</span>] = <span class="string">"sum"</span>;</span><br><span class="line"><span class="keyword">char</span> s4[<span class="number">10</span>] = <span class="string">"chinese"</span>;</span><br><span class="line"><span class="keyword">char</span> s5[<span class="number">10</span>] = <span class="string">"math"</span>;</span><br><span class="line"><span class="keyword">char</span> s6[<span class="number">10</span>] = <span class="string">"english"</span>;</span><br><span class="line"><span class="keyword">char</span> s7[<span class="number">10</span>] = <span class="string">"computer"</span>;</span><br><span class="line"><span class="keyword">char</span> s8[<span class="number">10</span>] = <span class="string">"c"</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">student</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">char</span> name[MAXNAME];</span><br><span class="line">    <span class="keyword">int</span> score[MAXSUBJECT];</span><br><span class="line">    <span class="keyword">double</span> aver;</span><br><span class="line">    <span class="keyword">int</span> sum;</span><br><span class="line"></span><br><span class="line">&#125; STUDENT;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    STUDENT data;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">next</span>;</span></span><br><span class="line"></span><br><span class="line">&#125; NODE, *LIST;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 读入文件时，添加链表成员</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AddFscanf</span><span class="params">(LIST, NODE)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用说明</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Instructions</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 进行完一次操作后，询问是否继续</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Ask</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 打印分割线</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SplitLine</span><span class="params">(<span class="keyword">void</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作1，用户输入时，添加链表成员，</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AddUserInput</span><span class="params">(LIST)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作2，删除节点</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delete</span><span class="params">(LIST)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作3，查询某个节点信息</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Inquire</span><span class="params">(LIST)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作4，更新某个节点信息</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span><span class="params">(LIST)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作5，排序学生信息</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sort</span><span class="params">(LIST)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作6，保存信息到文件中</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Save</span><span class="params">(LIST)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 操作7，打印链表</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Print</span><span class="params">(LIST)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 释放链表</span></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">Free</span><span class="params">(LIST)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">char</span> c2, FileName[<span class="number">100</span>];</span><br><span class="line">    FILE *fp = <span class="literal">NULL</span>;</span><br><span class="line">    NODE head;</span><br><span class="line">    NODE temp;</span><br><span class="line">    head.next = <span class="literal">NULL</span>;</span><br><span class="line">    temp.next = <span class="literal">NULL</span>;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"请输入文件的绝对路径+文件名(仅限 .txt 文件)\n\n"</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"例如，若您要打开D盘根目录下的 info.txt 文件\n"</span>);</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"则应输入\"D:/info.txt\"(您输入的字符均应为英文字符)\n"</span>);</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%s"</span>, FileName);</span><br><span class="line">	getchar();</span><br><span class="line">    <span class="keyword">if</span> ((fp = fopen(FileName, <span class="string">"r"</span>)) == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n\"%s\" 打开失败\n\n"</span>, FileName);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n\"%s\" 打开成功!\n"</span>, FileName);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n正在鉴定文件是否为空...\n"</span>);</span><br><span class="line">    c2 = getc(fp);</span><br><span class="line">    fclose(fp);</span><br><span class="line">    <span class="keyword">if</span> (c2 == EOF)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"打开的文件为空文件，仅可进行写入操作！\n"</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"文件非空，可进行任意操作\n\n"</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"正在重新打开该文件...\n"</span>);</span><br><span class="line">        <span class="keyword">if</span> ((fp = fopen(FileName, <span class="string">"r"</span>)) == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"can't open \"%s\" \n"</span>, FileName);</span><br><span class="line">            <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">        &#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"正在读取该文件中的数据...\n"</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%s"</span>, temp.data.name);</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXSUBJECT; i++)</span><br><span class="line">                <span class="built_in">fscanf</span>(fp, <span class="string">"%d"</span>, &amp;temp.data.score[i]);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%lf"</span>, &amp;temp.data.aver);</span><br><span class="line">            <span class="built_in">fscanf</span>(fp, <span class="string">"%d"</span>, &amp;temp.data.sum);</span><br><span class="line">            ch = getc(fp);</span><br><span class="line">            AddFscanf(&amp;head, temp);</span><br><span class="line">            <span class="keyword">if</span> (ch == EOF)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"文件数据读取成功!\n"</span>);</span><br><span class="line">        fclose(fp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        Instructions();</span><br><span class="line">        <span class="keyword">switch</span> (choice)</span><br><span class="line">        &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">            AddUserInput(&amp;head);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">            Delete(&amp;head);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">            Inquire(&amp;head);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">            Update(&amp;head);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">            Sort(&amp;head);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">            Save(&amp;head);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">            Print(&amp;head);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"Bye~  Have a good day! \n\n"</span>);</span><br><span class="line">            <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Ask();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     Free(&amp;head);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> <span class="function"><span class="keyword">void</span> <span class="title">Free</span><span class="params">(LIST headp)</span></span></span><br><span class="line"><span class="function"> </span>&#123;</span><br><span class="line"> 	LIST temp = headp;</span><br><span class="line"> 	LIST deletep = <span class="literal">NULL</span>;</span><br><span class="line"> 	<span class="keyword">while</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line"> 	&#123;</span><br><span class="line"> 		deletep = temp;</span><br><span class="line"> 		temp = temp-&gt;next;</span><br><span class="line"> 		<span class="built_in">free</span>(deletep);</span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Save</span><span class="params">(LIST headp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    FILE *fp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">    LIST temp = headp-&gt;next;</span><br><span class="line">    <span class="keyword">if</span> ((fp = fopen(<span class="string">"D:/info.txt"</span>, <span class="string">"w"</span>)) == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"can't open \" D:/info.txt \" \n"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"\n"</span>);</span><br><span class="line">        <span class="built_in">fprintf</span>(fp, <span class="string">"%s   "</span>, temp-&gt;data.name);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXSUBJECT; i++)</span><br><span class="line">            <span class="built_in">fprintf</span>(fp, <span class="string">"%d   "</span>, temp-&gt;data.score[<span class="number">0</span>]);</span><br><span class="line">        <span class="built_in">fprintf</span>(fp, <span class="string">"%.2f   "</span>, temp-&gt;data.aver);</span><br><span class="line">        <span class="built_in">fprintf</span>(fp, <span class="string">"%d"</span>, temp-&gt;data.sum);</span><br><span class="line">        flag = <span class="number">1</span>;</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n保存成功!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Sort</span><span class="params">(LIST headp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LIST temp = <span class="literal">NULL</span>;</span><br><span class="line">    STUDENT t;</span><br><span class="line">    <span class="keyword">int</span> lenth = <span class="number">0</span>, j;</span><br><span class="line">    <span class="keyword">if</span> (headp-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"数据为空!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    temp = headp-&gt;next;</span><br><span class="line">    <span class="keyword">while</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        lenth++;</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (i = lenth - <span class="number">1</span>; i &gt; <span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = headp-&gt;next;</span><br><span class="line">        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (temp-&gt;data.sum &lt; temp-&gt;next-&gt;data.sum)</span><br><span class="line">            &#123;</span><br><span class="line">                t = temp-&gt;data;</span><br><span class="line">                temp-&gt;data = temp-&gt;next-&gt;data;</span><br><span class="line">                temp-&gt;next-&gt;data = t;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (temp-&gt;data.sum == temp-&gt;next-&gt;data.sum)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">strcmp</span>(temp-&gt;data.name, temp-&gt;next-&gt;data.name) &gt; <span class="number">0</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    t = temp-&gt;data;</span><br><span class="line">                    temp-&gt;data = temp-&gt;next-&gt;data;</span><br><span class="line">                    temp-&gt;next-&gt;data = t;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n排序成功!"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Update</span><span class="params">(LIST headp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LIST temp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> NAME[MAXNAME];</span><br><span class="line">    <span class="keyword">if</span> (headp-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"数据为空!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    temp = headp;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"请输入要更新的学生姓名:\n"</span>);</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = headp;</span><br><span class="line">        fflush(<span class="built_in">stdin</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, NAME);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">while</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(temp-&gt;data.name, NAME) == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (temp == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"错误！库中没有该学生的信息,请重新输入:\n"</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            temp-&gt;data.sum = <span class="number">0</span>;</span><br><span class="line">            temp-&gt;data.aver = <span class="number">0.0</span>;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"请依次输入该学生语文、数学、英语、计算机、C语言，五门课的成绩\n"</span>);</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXSUBJECT; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;temp-&gt;data.score[i]);</span><br><span class="line">                temp-&gt;data.sum += temp-&gt;data.score[i];</span><br><span class="line">            &#125;</span><br><span class="line">            temp-&gt;data.aver = temp-&gt;data.sum * <span class="number">1.0</span> / MAXSUBJECT;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n更新成功!"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Inquire</span><span class="params">(LIST headp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LIST temp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> NAME[MAXNAME];</span><br><span class="line">    <span class="keyword">if</span> (headp-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"数据为空!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    temp = headp;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"请输入要查询的学生姓名:\n"</span>);</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = headp;</span><br><span class="line">        fflush(<span class="built_in">stdin</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, NAME);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">while</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(temp-&gt;data.name, NAME) == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (temp == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"错误！库中没有该学生的信息,请重新输入:\n"</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n\n%s的信息如下:\n\n"</span>, NAME);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%-10s %-8s %-10s %-10s %-10s %-10s %6s\n"</span>,</span><br><span class="line">                   s2, s3, s4, s5, s6, s7, s8);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%-10.2f %-10d"</span>,</span><br><span class="line">                   temp-&gt;data.aver, temp-&gt;data.sum);</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXSUBJECT; i++)</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"%-12d"</span>, temp-&gt;data.score[i]);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Delete</span><span class="params">(LIST headp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LIST temp = <span class="literal">NULL</span>, deletp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">char</span> NAME[MAXNAME];</span><br><span class="line">    <span class="keyword">if</span> (headp-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"数据为空!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    temp = headp;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"请输入要删除的学生的姓名:\n"</span>);</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        temp = headp;</span><br><span class="line">        fflush(<span class="built_in">stdin</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, NAME);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">while</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (temp-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (<span class="built_in">strcmp</span>(temp-&gt;data.name, NAME) == <span class="number">0</span>)</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    temp = <span class="literal">NULL</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(temp-&gt;next-&gt;data.name, NAME) == <span class="number">0</span>)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (temp == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"错误！该学生不存在,请重新输入:\n"</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// 要删除的结点是最后一个结点</span></span><br><span class="line">            <span class="keyword">if</span> (temp-&gt;next-&gt;next = <span class="literal">NULL</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">free</span>(temp-&gt;next);</span><br><span class="line">                temp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            deletp = temp-&gt;next;</span><br><span class="line">            temp-&gt;next = temp-&gt;next-&gt;next;</span><br><span class="line">            <span class="built_in">free</span>(deletp);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n删除成功!"</span>);</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Ask</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    fflush(<span class="built_in">stdin</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n\n输入'n'结束该信息管理系统，或输入其它任意字符回到菜单\n"</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%c"</span>, &amp;c);</span><br><span class="line">    getchar();</span><br><span class="line">    <span class="keyword">if</span> (c == <span class="string">'n'</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\nBye~  Have a good day! \n\n"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AddUserInput</span><span class="params">(LIST headp)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> flag = <span class="number">0</span>, flag2 = <span class="number">0</span>;</span><br><span class="line">    LIST newp = <span class="literal">NULL</span>;</span><br><span class="line">    LIST temp = headp-&gt;next;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"请输入学生姓名:\n"</span>);</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        newp = (LIST)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(NODE));</span><br><span class="line">        flag = <span class="number">0</span>;</span><br><span class="line">        temp = headp-&gt;next;</span><br><span class="line">		fflush(<span class="built_in">stdin</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%s"</span>, newp-&gt;data.name);</span><br><span class="line">        getchar();</span><br><span class="line">        <span class="keyword">while</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">strcmp</span>(newp-&gt;data.name, temp-&gt;data.name) == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            temp = temp-&gt;next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n库中已有该名字，请退回到菜单选择\"更新信息\"或选择重新输入名字\n"</span>);</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"是否重新输入?(y/n)\n"</span>);</span><br><span class="line">            <span class="keyword">while</span> (<span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">				flag2 = <span class="number">0</span>;</span><br><span class="line">                c = getchar();</span><br><span class="line">                getchar();</span><br><span class="line">                <span class="keyword">if</span> (c == <span class="string">'y'</span>)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"\n您选择了'y',请重新输入名字\n"</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'n'</span>)</span><br><span class="line">                &#123;</span><br><span class="line"></span><br><span class="line">                    flag2 = <span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"\n请输入'y'或'n'，不要输入其它字符!\n"</span>);</span><br><span class="line">                    <span class="built_in">printf</span>(<span class="string">"请重新输入'y'或'n' \n"</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (flag2)</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            temp = headp;</span><br><span class="line">            <span class="keyword">while</span> (temp-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">                temp = temp-&gt;next;</span><br><span class="line">            temp-&gt;next = newp;</span><br><span class="line">            newp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">            newp-&gt;data.sum = <span class="number">0</span>;</span><br><span class="line">            newp-&gt;data.aver = <span class="number">0.0</span>;</span><br><span class="line"></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"请依次输入该学生语文、数学、英语、计算机、C语言，五门课的成绩\n"</span>);</span><br><span class="line">            <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXSUBJECT; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;newp-&gt;data.score[i]);</span><br><span class="line">                newp-&gt;data.sum += newp-&gt;data.score[i];</span><br><span class="line">            &#125;</span><br><span class="line">            newp-&gt;data.aver = newp-&gt;data.sum * <span class="number">1.0</span> / MAXSUBJECT;</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"\n添加成功!\n"</span>);</span><br><span class="line">			<span class="built_in">printf</span>(<span class="string">"是否继续添加?(输入'n'结束该功能，输入其它任意字符继续添加)\n"</span>);</span><br><span class="line">			fflush(<span class="built_in">stdin</span>);</span><br><span class="line">			c = getchar();</span><br><span class="line">			getchar();</span><br><span class="line">			<span class="keyword">if</span>(c == <span class="string">'n'</span>)</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				<span class="built_in">printf</span>(<span class="string">"\n请继续输入要添加的学生的姓名\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">AddFscanf</span><span class="params">(LIST p, NODE newNode)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LIST newp = (LIST)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(NODE));</span><br><span class="line">    LIST temp = p;</span><br><span class="line">    <span class="keyword">while</span> (temp-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">    temp-&gt;next = newp;</span><br><span class="line">    newp-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line">    newp-&gt;data.sum = <span class="number">0</span>;</span><br><span class="line">    newp-&gt;data.aver = <span class="number">0.0</span>;</span><br><span class="line">    <span class="built_in">strcpy</span>(newp-&gt;data.name, newNode.data.name);</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXSUBJECT; i++)</span><br><span class="line">        newp-&gt;data.score[i] = newNode.data.score[i];</span><br><span class="line">    newp-&gt;data.sum = newNode.data.sum;</span><br><span class="line">    newp-&gt;data.aver = newNode.data.aver;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Print</span><span class="params">(LIST p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    LIST temp = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (p-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"数据为空!\n"</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    temp = p;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"已存储的数据为:\n"</span>);</span><br><span class="line">    SplitLine();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%-15s %-10s %-8s %-10s %-10s %-10s %-10s %6s\n"</span>,</span><br><span class="line">           s1, s2, s3, s4, s5, s6, s7, s8);</span><br><span class="line">    <span class="keyword">while</span> (temp-&gt;next != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%-15s %-10.2f %-10d"</span>,</span><br><span class="line">               temp-&gt;next-&gt;data.name, temp-&gt;next-&gt;data.aver,</span><br><span class="line">               temp-&gt;next-&gt;data.sum);</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; MAXSUBJECT; i++)</span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">"%-12d"</span>, temp-&gt;next-&gt;data.score[i]);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">        temp = temp-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">    SplitLine();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">SplitLine</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n=========================================================================================\n\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Instructions</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n\n\t   The Student's Grade Management System\n\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"---------------------Student  Menu---------------------------\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"* 1 输入学生信息\t\t\t * 2 删除学生信息\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"* 3 查询学生信息\t\t\t * 4 更新学生信息\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"* 5 排序学生信息\t\t\t * 6 保存学生信息\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"* 7 显示学生信息\t\t\t * 0 退出学生系统\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"-------------------------------------------------------------\n"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Enter your choice [0 - 9]: "</span>);</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;choice);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n\n"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>项目</category>
      </categories>
      <tags>
        <tag>链表项目</tag>
      </tags>
  </entry>
</search>
